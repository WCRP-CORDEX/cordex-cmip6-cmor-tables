Traceback (most recent call last):
  File "/home/runner/micromamba-root/envs/cordex-examples/lib/python3.8/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/home/runner/micromamba-root/envs/cordex-examples/lib/python3.8/site-packages/nbclient/client.py", line 1305, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/home/runner/micromamba-root/envs/cordex-examples/lib/python3.8/site-packages/jupyter_core/utils/__init__.py", line 165, in wrapped
    return loop.run_until_complete(inner)
  File "/home/runner/micromamba-root/envs/cordex-examples/lib/python3.8/asyncio/base_events.py", line 616, in run_until_complete
    return future.result()
  File "/home/runner/micromamba-root/envs/cordex-examples/lib/python3.8/site-packages/nbclient/client.py", line 705, in async_execute
    await self.async_execute_cell(
  File "/home/runner/micromamba-root/envs/cordex-examples/lib/python3.8/site-packages/nbclient/client.py", line 1058, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/home/runner/micromamba-root/envs/cordex-examples/lib/python3.8/site-packages/nbclient/client.py", line 914, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
f = test_cmorizer_fx()
------------------

----- stderr -----
Downloading file 'rotated-latitude-longitude.csv' from 'https://raw.githubusercontent.com/WCRP-CORDEX/domain-tables/main/rotated-latitude-longitude.csv' to '/home/runner/.py-cordex'.
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mModuleNotFoundError[0m                       Traceback (most recent call last)
Cell [0;32mIn[5], line 1[0m
[0;32m----> 1[0m f [38;5;241m=[39m [43mtest_cmorizer_fx[49m[43m([49m[43m)[49m

Cell [0;32mIn[4], line 14[0m, in [0;36mtest_cmorizer_fx[0;34m()[0m
[1;32m     12[0m [38;5;28;01mdef[39;00m [38;5;21mtest_cmorizer_fx[39m():
[1;32m     13[0m     ds [38;5;241m=[39m cx[38;5;241m.[39mcordex_domain([38;5;124m"[39m[38;5;124mEUR-11[39m[38;5;124m"[39m, dummy[38;5;241m=[39m[38;5;124m"[39m[38;5;124mtopo[39m[38;5;124m"[39m)
[0;32m---> 14[0m     filename [38;5;241m=[39m [43mcmor[49m[38;5;241;43m.[39;49m[43mcmorize_variable[49m[43m([49m
[1;32m     15[0m [43m        [49m[43mds[49m[43m,[49m
[1;32m     16[0m [43m        [49m[38;5;124;43m"[39;49m[38;5;124;43morog[39;49m[38;5;124;43m"[39;49m[43m,[49m
[1;32m     17[0m [43m        [49m[43mmapping_table[49m[38;5;241;43m=[39;49m[43m{[49m[38;5;124;43m"[39;49m[38;5;124;43morog[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[43m{[49m[38;5;124;43m"[39;49m[38;5;124;43mvarname[39;49m[38;5;124;43m"[39;49m[43m:[49m[43m [49m[38;5;124;43m"[39;49m[38;5;124;43mtopo[39;49m[38;5;124;43m"[39;49m[43m}[49m[43m}[49m[43m,[49m
[1;32m     18[0m [43m        [49m[43mcmor_table[49m[38;5;241;43m=[39;49m[43mos[49m[38;5;241;43m.[39;49m[43mpath[49m[38;5;241;43m.[39;49m[43mjoin[49m[43m([49m[43mtable_dir[49m[43m,[49m[43m [49m[38;5;124;43m"[39;49m[38;5;124;43mCORDEX_fx.json[39;49m[38;5;124;43m"[39;49m[43m)[49m[43m,[49m
[1;32m     19[0m [43m        [49m[43mdataset_table[49m[38;5;241;43m=[39;49m[43mos[49m[38;5;241;43m.[39;49m[43mpath[49m[38;5;241;43m.[39;49m[43mjoin[49m[43m([49m[43mtable_dir[49m[43m,[49m[43m [49m[38;5;124;43m"[39;49m[38;5;124;43mCORDEX_remo_example.json[39;49m[38;5;124;43m"[39;49m[43m)[49m[43m,[49m
[1;32m     20[0m [43m        [49m[43mgrids_table[49m[38;5;241;43m=[39;49m[43mos[49m[38;5;241;43m.[39;49m[43mpath[49m[38;5;241;43m.[39;49m[43mjoin[49m[43m([49m[43mtable_dir[49m[43m,[49m[43m [49m[38;5;124;43m"[39;49m[38;5;124;43mCORDEX_grids.json[39;49m[38;5;124;43m"[39;49m[43m)[49m[43m,[49m
[1;32m     21[0m [43m        [49m[43mCORDEX_domain[49m[38;5;241;43m=[39;49m[38;5;124;43m"[39;49m[38;5;124;43mEUR-11[39;49m[38;5;124;43m"[39;49m[43m,[49m
[1;32m     22[0m [43m        [49m[43mtime_units[49m[38;5;241;43m=[39;49m[38;5;28;43;01mNone[39;49;00m[43m,[49m
[1;32m     23[0m [43m        [49m[43mallow_units_convert[49m[38;5;241;43m=[39;49m[38;5;28;43;01mTrue[39;49;00m[43m,[49m
[1;32m     24[0m [43m    [49m[43m)[49m
[1;32m     25[0m     [38;5;28;01mreturn[39;00m filename

File [0;32m~/micromamba-root/envs/cordex-examples/lib/python3.8/site-packages/cordex/cmor/cmor.py:644[0m, in [0;36mcmorize_variable[0;34m(ds, out_name, cmor_table, dataset_table, mapping_table, grids_table, inpath, replace_coords, allow_units_convert, allow_resample, input_freq, CORDEX_domain, time_units, rewrite_time_axis, outpath, **kwargs)[0m
[1;32m    641[0m [38;5;28;01mif[39;00m outpath:
[1;32m    642[0m     dataset_table[[38;5;124m"[39m[38;5;124moutpath[39m[38;5;124m"[39m] [38;5;241m=[39m outpath
[0;32m--> 644[0m ds_prep [38;5;241m=[39m [43mprepare_variable[49m[43m([49m
[1;32m    645[0m [43m    [49m[43mds[49m[43m,[49m
[1;32m    646[0m [43m    [49m[43mout_name[49m[43m,[49m
[1;32m    647[0m [43m    [49m[43mcmor_table[49m[43m,[49m
[1;32m    648[0m [43m    [49m[43mCORDEX_domain[49m[38;5;241;43m=[39;49m[43mCORDEX_domain[49m[43m,[49m
[1;32m    649[0m [43m    [49m[43mmapping_table[49m[38;5;241;43m=[39;49m[43mmapping_table[49m[43m,[49m
[1;32m    650[0m [43m    [49m[43mreplace_coords[49m[38;5;241;43m=[39;49m[43mreplace_coords[49m[43m,[49m
[1;32m    651[0m [43m    [49m[43minput_freq[49m[38;5;241;43m=[39;49m[43minput_freq[49m[43m,[49m
[1;32m    652[0m [43m    [49m[43mrewrite_time_axis[49m[38;5;241;43m=[39;49m[43mrewrite_time_axis[49m[43m,[49m
[1;32m    653[0m [43m    [49m[43mtime_units[49m[38;5;241;43m=[39;49m[43mtime_units[49m[43m,[49m
[1;32m    654[0m [43m    [49m[43mallow_resample[49m[38;5;241;43m=[39;49m[43mallow_resample[49m[43m,[49m
[1;32m    655[0m [43m    [49m[43mallow_units_convert[49m[38;5;241;43m=[39;49m[43mallow_units_convert[49m[43m,[49m
[1;32m    656[0m [43m    [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m,[49m
[1;32m    657[0m [43m[49m[43m)[49m
[1;32m    659[0m [38;5;28;01mreturn[39;00m cmorize_cmor(
[1;32m    660[0m     ds_prep, out_name, cmor_table, dataset_table, grids_table, inpath
[1;32m    661[0m )

File [0;32m~/micromamba-root/envs/cordex-examples/lib/python3.8/site-packages/cordex/cmor/cmor.py:529[0m, in [0;36mprepare_variable[0;34m(ds, out_name, cmor_table, mapping_table, replace_coords, allow_units_convert, allow_resample, input_freq, CORDEX_domain, time_units, rewrite_time_axis, use_cftime, squeeze)[0m
[1;32m    526[0m     var_ds [38;5;241m=[39m _set_time_encoding(var_ds, time_units, ds)
[1;32m    528[0m [38;5;28;01mif[39;00m allow_units_convert [38;5;129;01mis[39;00m [38;5;28;01mTrue[39;00m:
[0;32m--> 529[0m     var_ds[out_name] [38;5;241m=[39m [43m_cf_units_convert[49m[43m([49m
[1;32m    530[0m [43m        [49m[43mvar_ds[49m[43m[[49m[43mout_name[49m[43m][49m[43m,[49m[43m [49m[43mcmor_table[49m[43m,[49m[43m [49m[43mmapping_table[49m
[1;32m    531[0m [43m    [49m[43m)[49m
[1;32m    533[0m [38;5;28;01mtry[39;00m:
[1;32m    534[0m     mapping [38;5;241m=[39m ds[38;5;241m.[39mcf[[38;5;124m"[39m[38;5;124mgrid_mapping[39m[38;5;124m"[39m]  [38;5;66;03m# _get_pole(ds)[39;00m

File [0;32m~/micromamba-root/envs/cordex-examples/lib/python3.8/site-packages/cordex/cmor/cmor.py:267[0m, in [0;36m_cf_units_convert[0;34m(da, table, mapping_table)[0m
[1;32m    260[0m [38;5;28;01mdef[39;00m [38;5;21m_cf_units_convert[39m(da, table, mapping_table[38;5;241m=[39m{}):
[1;32m    261[0m [38;5;250m    [39m[38;5;124;03m"""Convert units.[39;00m
[1;32m    262[0m 
[1;32m    263[0m [38;5;124;03m    Convert units according to the rules in units_convert_rules dict.[39;00m
[1;32m    264[0m [38;5;124;03m    Maybe metpy can do this also: https://unidata.github.io/MetPy/latest/tutorials/unit_tutorial.html[39;00m
[1;32m    265[0m 
[1;32m    266[0m [38;5;124;03m    """[39;00m
[0;32m--> 267[0m     [38;5;28;01mfrom[39;00m [38;5;21;01mcf_xarray[39;00m[38;5;21;01m.[39;00m[38;5;21;01munits[39;00m [38;5;28;01mimport[39;00m units [38;5;28;01mas[39;00m cfxr_units  [38;5;66;03m# noqa[39;00m
[1;32m    269[0m     [38;5;28;01mif[39;00m da[38;5;241m.[39mname [38;5;129;01min[39;00m mapping_table:
[1;32m    270[0m         map_units [38;5;241m=[39m mapping_table[da[38;5;241m.[39mname][38;5;241m.[39mget([38;5;124m"[39m[38;5;124munits[39m[38;5;124m"[39m)

File [0;32m~/micromamba-root/envs/cordex-examples/lib/python3.8/site-packages/cf_xarray/units.py:6[0m
[1;32m      3[0m [38;5;28;01mimport[39;00m [38;5;21;01mre[39;00m
[1;32m      4[0m [38;5;28;01mimport[39;00m [38;5;21;01mwarnings[39;00m
[0;32m----> 6[0m [38;5;28;01mimport[39;00m [38;5;21;01mpint[39;00m
[1;32m      7[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpint[39;00m [38;5;28;01mimport[39;00m (  [38;5;66;03m# noqa: F401[39;00m
[1;32m      8[0m     DimensionalityError,
[1;32m      9[0m     UndefinedUnitError,
[1;32m     10[0m     UnitStrippedWarning,
[1;32m     11[0m )
[1;32m     13[0m [38;5;66;03m# from `xclim`'s unit support module with permission of the maintainers[39;00m

[0;31mModuleNotFoundError[0m: No module named 'pint'

